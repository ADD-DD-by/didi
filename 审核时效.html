<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>审核时效数据看板</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <style>
        :root {
            --primary-color: #0f1c2c;
            --secondary-color: #1f3a5f;
            --accent-color: #4cceac;
            --text-color: #e1e5ec;
            --danger-color: #ff5c5c;
            --success-color: #4cceac;
            --warning-color: #ffbd4c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: var(--primary-color);
            color: var(--text-color);
            padding: 15px;
            overflow-x: hidden;
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dashboard-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .filter-section {
            background-color: var(--secondary-color);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }
        
        .filter-label {
            font-size: 11px;
            margin-bottom: 4px;
            color: #a0aec0;
        }
        
        select, input {
            background-color: #2a4b7c;
            color: var(--text-color);
            border: 1px solid #3a5b8c;
            border-radius: 4px;
            padding: 6px;
            outline: none;
            font-size: 12px;
        }
        
        .kpi-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .kpi-card {
            background-color: var(--secondary-color);
            border-radius: 6px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .kpi-title {
            font-size: 12px;
            margin-bottom: 8px;
            color: #a0aec0;
        }
        
        .kpi-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .kpi-baseline {
            font-size: 11px;
            color: #a0aec0;
        }
        
        .healthy {
            color: var(--success-color);
        }
        
        .warning {
            color: var(--warning-color);
        }
        
        .danger {
            color: var(--danger-color);
        }
        
        .chart-container {
            background-color: var(--secondary-color);
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .chart-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .tabs {
            display: flex;
            background-color: #2a4b7c;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .tab {
            padding: 6px 12px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .tab.active {
            background-color: var(--accent-color);
            color: var(--primary-color);
        }
        
        .pie-charts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .pie-container {
            position: relative;
            height: 220px;
            width: 100%;
        }
        
        .pie-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .pie-filter {
            background-color: #2a4b7c;
            color: var(--text-color);
            border: 1px solid #3a5b8c;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 11px;
            height: 26px;
        }
        
        canvas {
            width: 100% !important;
        }
        
        @media (max-width: 1200px) {
            .kpi-cards, .pie-charts {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-header">
        <div class="dashboard-title">审核时效数据看板</div>
        <div style="font-size: 12px;">最后更新时间: <span id="update-time">2023-11-01 15:30:45</span></div>
    </div>
    
    <div class="filter-section">
        <div class="filter-group">
            <div class="filter-label">渠道</div>
            <select id="channel-filter">
                <option value="all">全部渠道</option>
                <option value="amazon">Amazon</option>
                <option value="ebay">eBay</option>
                <option value="shopify">Shopify</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">日期区间</div>
            <div style="display: flex; gap: 5px;">
                <input type="date" id="start-date" style="width: 110px;">
                <input type="date" id="end-date" style="width: 110px;">
            </div>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">平台</div>
            <select id="platform-filter">
                <option value="all">全部平台</option>
                <option value="us">美国站</option>
                <option value="eu">欧洲站</option>
                <option value="uk">英国站</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">国家</div>
            <select id="country-filter">
                <option value="all">全部国家</option>
                <option value="us">美国</option>
                <option value="de">德国</option>
                <option value="uk">英国</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">客服</div>
            <select id="cs-filter">
                <option value="all">全部客服</option>
                <option value="cs1">客服A</option>
                <option value="cs2">客服B</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">审核订单类型</div>
            <select id="order-type-filter">
                <option value="all">全部类型</option>
                <option value="refund">退款</option>
                <option value="return">退货</option>
                <option value="replacement">补件</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="filter-label">&nbsp;</div>
            <button style="padding: 6px 12px; background-color: var(--accent-color); color: var(--primary-color); border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                应用筛选
            </button>
        </div>
    </div>
    
    <div class="kpi-cards">
        <div class="kpi-card">
            <div class="kpi-title">24小时内审核订单占比</div>
            <div class="kpi-value healthy">92.3%</div>
            <div class="kpi-baseline">基准线: 90%</div>
        </div>
        
        <div class="kpi-card">
            <div class="kpi-title">48小时内审核订单占比</div>
            <div class="kpi-value warning">88.7%</div>
            <div class="kpi-baseline">基准线: 90%</div>
        </div>
        
        <div class="kpi-card">
            <div class="kpi-title">72小时内审核订单占比</div>
            <div class="kpi-value danger">76.2%</div>
            <div class="kpi-baseline">基准线: 85%</div>
        </div>
    </div>
    
    <div class="chart-container">
        <div class="chart-header">
            <div class="chart-title">审核时效趋势</div>
            <div class="tabs">
                <div class="tab active">日</div>
                <div class="tab">周</div>
                <div class="tab">月</div>
            </div>
        </div>
        <div style="height: 300px;">
            <canvas id="trend-chart"></canvas>
        </div>
    </div>
    
    <div class="pie-charts">
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">贸易线补货方式占比</div>
            </div>
            <div class="pie-container">
                <canvas id="trade-pie-chart"></canvas>
            </div>
            <div class="pie-filters">
                <select class="pie-filter">
                    <option>渠道: 全部</option>
                    <option>Amazon</option>
                    <option>eBay</option>
                </select>
                <select class="pie-filter">
                    <option>平台: 全部</option>
                    <option>美国站</option>
                    <option>欧洲站</option>
                </select>
                <select class="pie-filter">
                    <option>国家: 全部</option>
                    <option>美国</option>
                    <option>德国</option>
                </select>
                <select class="pie-filter">
                    <option>日期: 全部</option>
                    <option>最近7天</option>
                    <option>最近30天</option>
                </select>
            </div>
        </div>
        
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">品牌线补货方式占比</div>
            </div>
            <div class="pie-container">
                <canvas id="brand-pie-chart"></canvas>
            </div>
            <div class="pie-filters">
                <select class="pie-filter">
                    <option>渠道: 全部</option>
                    <option>Amazon</option>
                    <option>eBay</option>
                </select>
                <select class="pie-filter">
                    <option>平台: 全部</option>
                    <option>美国站</option>
                    <option>欧洲站</option>
                </select>
                <select class="pie-filter">
                    <option>国家: 全部</option>
                    <option>美国</option>
                    <option>德国</option>
                </select>
                <select class="pie-filter">
                    <option>日期: 全部</option>
                    <option>最近7天</option>
                    <option>最近30天</option>
                </select>
            </div>
        </div>
    </div>

    <script>
        // 设置最后更新时间
        document.getElementById('update-time').textContent = new Date().toLocaleString();
        
        // 设置默认日期范围（最近30天）
        const endDate = new Date();
        const startDate = new Date();
        startDate.setDate(startDate.getDate() - 30);
        
        document.getElementById('start-date').valueAsDate = startDate;
        document.getElementById('end-date').valueAsDate = endDate;
        
        // 模拟数据
        const generateDates = (days) => {
            return Array.from({length: days}, (_, i) => {
                const date = new Date();
                date.setDate(date.getDate() - (days - 1 - i));
                return moment(date).format('MM-DD');
            });
        };
        
        const dates = generateDates(14);
        
        // 趋势图数据
        const trendData = {
            labels: dates,
            datasets: [
                {
                    label: '24h占比',
                    data: [92, 93, 91, 94, 90, 92, 93, 95, 92, 91, 90, 89, 92, 94],
                    borderColor: '#4cceac',
                    backgroundColor: 'rgba(76, 206, 172, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 3
                },
                {
                    label: '48h占比',
                    data: [89, 90, 88, 91, 87, 89, 90, 92, 89, 88, 87, 85, 88, 90],
                    borderColor: '#ffbd4c',
                    backgroundColor: 'rgba(255, 189, 76, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 3
                },
                {
                    label: '72h占比',
                    data: [78, 80, 76, 82, 75, 78, 80, 84, 79, 77, 75, 72, 76, 80],
                    borderColor: '#ff5c5c',
                    backgroundColor: 'rgba(255, 92, 92, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 3
                }
            ]
        };
        
        // 创建趋势图
        const trendCtx = document.getElementById('trend-chart').getContext('2d');
        const trendChart = new Chart(trendCtx, {
            type: 'line',
            data: trendData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            boxWidth: 12,
                            font: {
                                size: 11
                            }
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        titleFont: {
                            size: 11
                        },
                        bodyFont: {
                            size: 11
                        }
                    }
                },
                scales: {
                    y: {
                        min: 70,
                        max: 100,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            },
                            font: {
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            font: {
                                size: 10
                            },
                            maxRotation: 45,
                            minRotation: 45
                        }
                    }
                }
            }
        });
        
        // 添加基准线
        trendChart.data.datasets.push({
            label: '24h基准线',
            data: Array(14).fill(90),
            borderColor: '#4cceac',
            borderWidth: 1,
            borderDash: [5, 5],
            pointRadius: 0,
            fill: false
        });
        
        trendChart.data.datasets.push({
            label: '48h基准线',
            data: Array(14).fill(90),
            borderColor: '#ffbd4c',
            borderWidth: 1,
            borderDash: [5, 5],
            pointRadius: 0,
            fill: false
        });
        
        trendChart.data.datasets.push({
            label: '72h基准线',
            data: Array(14).fill(85),
            borderColor: '#ff5c5c',
            borderWidth: 1,
            borderDash: [5, 5],
            pointRadius: 0,
            fill: false
        });
        
        trendChart.update();
        
        // 饼图数据
        const tradePieData = {
            labels: ['海外仓补货', '工厂补货'],
            datasets: [{
                data: [75, 25],
                backgroundColor: [
                    '#4cceac',
                    '#1f3a5f'
                ],
                borderWidth: 0
            }]
        };
        
        const brandPieData = {
            labels: ['海外仓补货', '工厂补货'],
            datasets: [{
                data: [62, 38],
                backgroundColor: [
                    '#4cceac',
                    '#1f3a5f'
                ],
                borderWidth: 0
            }]
        };
        
        // 创建饼图
        const tradePieCtx = document.getElementById('trade-pie-chart').getContext('2d');
        const tradePieChart = new Chart(tradePieCtx, {
            type: 'pie',
            data: tradePieData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            boxWidth: 12,
                            font: {
                                size: 11
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.raw + '%';
                            }
                        },
                        titleFont: {
                            size: 11
                        },
                        bodyFont: {
                            size: 11
                        }
                    }
                }
            }
        });
        
        const brandPieCtx = document.getElementById('brand-pie-chart').getContext('2d');
        const brandPieChart = new Chart(brandPieCtx, {
            type: 'pie',
            data: brandPieData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            boxWidth: 12,
                            font: {
                                size: 11
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.raw + '%';
                            }
                        },
                        titleFont: {
                            size: 11
                        },
                        bodyFont: {
                            size: 11
                        }
                    }
                }
            }
        });
        
        // 标签切换功能
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // 在实际应用中，这里应该根据选择的标签重新加载数据
            });
        });
    </script>
</body>
</html>